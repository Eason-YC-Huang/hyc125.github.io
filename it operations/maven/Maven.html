<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../css/wolai.css"/><title>Maven - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div data-symbol="😈" class="icon"></div></div><div data-title="Maven" class="main-title"></div></div></header><article><h2 class="wolai-block"><span class="inline-wrap">Maven<span class="jill"></span>是什么？</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">Maven<span class="jill"></span>可以翻译作“知识的积累”，也可以翻译为“专家”或“内行”。Maven<span class="jill"></span>主要提供的服务是基于<span class="jill"></span>Java<span class="jill"></span>平台的项目构建、依赖管理、项目信息管理。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>什么是构建？</b></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">在开发中，除了编写代码，我们还需要做编译、单元测试、生成文档、打包和部署等重复的事情，这就是构建。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">一个例子</span></h2><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Xml" class="marker"></div><pre><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!--当前POM的版本--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.hdr.learn.DesignPattern<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>DesignPattern<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!--
      groupId、artifactId、version这三个元素定义了一个项目的基本坐标
  --></span>
    
    <span class="token comment">&lt;!--build中的plugins 和 普通的plugins有什么区别？--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-compiler-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span></pre></div></code-block><h1 class="wolai-block"><span class="inline-wrap">坐标、依赖配置、仓库</span></h1><h2 class="wolai-block"><span class="inline-wrap">坐标</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">由于<span class="jill"></span>Java<span class="jill"></span>使用者多，它们创造了大量构件，也就是平时用的一些<span class="jill"></span>jar、war<span class="jill"></span>等文件。Maven<span class="jill"></span>其中一个作用就是方便我们下载和管理这些构件。在<span class="jill"></span>Maven<span class="jill"></span>世界中，我们通过<span class="jill"></span>groupId、artifactId、version<span class="jill"></span>这三个元素定义了一个构件的基本坐标。有了这个坐标，我们就能从<span class="jill"></span>Maven<span class="jill"></span>提供的中央仓库中下载所需的构件。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">依赖配置</span></h2><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Xml" class="marker"></div><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>
          
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span></pre></div></code-block><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">groupId、artifactId、version</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">type：依赖的类型，jar、pom 默认为<span class="jill"></span>jar</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">scope：依赖的范围</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">optional：依赖是否可选</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">exclusions：用来排除传递性依赖</span></li></ul><div class="wolai-block wolai-text"><div><span class="inline-wrap">Optional<span class="jill"></span>和<span class="jill"></span>Exclusions<span class="jill"></span>都是用来排除<span class="jill"></span>jar<span class="jill"></span>包依赖使用的，两者在使用上却是相反。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">Optional<span class="jill"></span>定义后，该依赖只能在本项目中传递，不会传递到引用该项目的父项目中，父项目需要主动引用该依赖才行。A<span class="jill"></span>依赖<span class="jill"></span>B，X、Y<span class="jill"></span>是<span class="jill"></span>B<span class="jill"></span>的可选依赖。这时候<span class="jill"></span>X、Y<span class="jill"></span>不会对<span class="jill"></span>A<span class="jill"></span>有任何作用。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">Exclusions<span class="jill"></span>则是父项目主动排除子项目传递过来的依赖。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">依赖的作用范围</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">Maven<span class="jill"></span>在编译项目主代码的时候需要使用一套<span class="jill"></span>classpath、测试代码的时候会使用另一套<span class="jill"></span>classpath、运行的时候，又会使用一套<span class="jill"></span>classpath。依赖范围就是对这三个<span class="jill"></span>classpath<span class="jill"></span>起作用。</span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">compile：编译依赖范围（默认）。对于编译、测试、运行都有效。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">test：测试依赖范围。只在测试时有效，典型例子<span class="jill"></span>junit。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">provided：对于编译和测试时有效，但在运行时无效。典型例子<span class="jill"></span>servlet-api。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">runtime：运行时依赖。对于测试和使用有效，但是编译时无效。典型例子<span class="jill"></span>JDBC<span class="jill"></span>驱动。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">system：本地<span class="jill"></span>Maven<span class="jill"></span>仓库之外的类库文件。对于编译和测试时有效，但在运行时无效。</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Xml" class="marker"></div><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>xxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>xx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>system<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>systemPath</span><span class="token punctuation">></span></span>${path-to-the-jar}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>systemPath</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></div></code-block></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">import：</span><span class="inline-wrap"><code>import</code></span><span class="inline-wrap">只能用在</span><span class="inline-wrap"><code>dependencyManagement</code></span><span class="inline-wrap">里面</span></li></ul><h2 class="wolai-block"><span class="inline-wrap">依赖的传递</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">项目<span class="jill"></span>A<span class="jill"></span>需要项目<span class="jill"></span>B，使用<span class="jill"></span>Maven<span class="jill"></span>导入项目<span class="jill"></span>A<span class="jill"></span>的时候，它会自动帮我们导入项目<span class="jill"></span>B。</span></div></div><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="media/maven%E4%BE%9D%E8%B5%96%E8%8C%83%E5%9B%B4%E5%AF%B9%E4%BE%9D%E8%B5%96%E4%BC%A0%E9%80%92%E7%9A%84%E5%BD%B1%E5%93%8D.png" style="width: 760px"/></figure></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">最左边一列是项目<span class="jill"></span>A<span class="jill"></span>的依赖范围取值，最上面一行是项目<span class="jill"></span>B<span class="jill"></span>的依赖范围取值。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">依赖冲突</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">有些时候，导入的两个项目可能会依赖于同一个项目，但是依赖的项目版本不一样，这时候，</span></div></div><ol class="wolai-block"><li><div class="marker"></div><span class="inline-wrap">根据路径来选择，导入路径更短的依赖</span></li><li><div class="marker"></div><span class="inline-wrap">如果路径相等，先声明的先导入</span></li><li><div class="marker"></div><span class="inline-wrap">排除掉其中一个</span><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Xml" class="marker"></div><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.1.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-aop<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></pre></div></code-block></li></ol><h2 class="wolai-block"><span class="inline-wrap">使用本地<span class="jill"></span>jar<span class="jill"></span>包</span></h2><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Bash" class="marker"></div><pre>mvn install:install-file -Dfile<span class="token operator">=</span>file_path -DgroupId<span class="token operator">=</span>groupId -DartifactId<span class="token operator">=</span>artifactId -Dpackaging<span class="token operator">=</span>jar</pre></div></code-block><h2 class="wolai-block"><span class="inline-wrap">仓库分类</span></h2><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">本地仓库</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">远程仓库</span><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">中央仓库</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">其他公共仓库</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">私服</span></li></ul></li></ul><div class="wolai-block wolai-text"><div><span class="inline-wrap">本地仓库默认在</span><span class="inline-wrap"><code>~/.m2/repository</code></span><span class="inline-wrap">,如果想修改本地仓库存储位置，可以修改</span><span class="inline-wrap"><code>~/.m2/settings.xml</code></span><span class="inline-wrap">，当然这个配置文件默认是不存在，需要我们复制<span class="jill"></span>maven<span class="jill"></span>项目<span class="jill"></span>conf<span class="jill"></span>目录下的<span class="jill"></span>settings.xml。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>使用其它仓库</b></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">Maven<span class="jill"></span>默认使用<span class="jill"></span>Maven<span class="jill"></span>中央仓库，但是有时候有些依赖在中央仓库中没有，我们需要使用别的仓库。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Xml" class="marker"></div><pre><span class="token comment">&lt;!--在POM文件引入别的仓库--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repositories</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>spring-lib<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>spring-lib<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>https://repo.spring.io/libs-snapshot/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>releases</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>releases</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshots</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshots</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repositories</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!--在settings文件中设置profiles--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profiles</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>profile</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>hdr-profile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repositories</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>set-spring-lib<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>set-name-spring-lib<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>https://repo.spring.io/libs-snapshot/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>releases</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>releases</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshots</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>enabled</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>enabled</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshots</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repositories</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profile</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>profiles</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeProfiles</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activeProfile</span><span class="token punctuation">></span></span>hdr-profile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeProfile</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activeProfiles</span><span class="token punctuation">></span></span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">仓库优先级：本地仓库 &gt; profile &gt; repository</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>远程仓库的认证</b></span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Xml" class="marker"></div><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">></span></span>
...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servers</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>server</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!--仓库id--></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>username</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>username</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>password</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>password</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>server</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servers</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">></span></span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>把构件部署到远程仓库</b></span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Xml" class="marker"></div><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span><span class="token punctuation">></span></span>
...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>distributionManagement</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>repository</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>repository</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>snapshotRepository</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>snapshotRepository</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>distributionManagement</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!--配置正确后，运行 mvn clean deploy将会把项目部署到远程仓库中--></span></pre></div></code-block><h2 class="wolai-block"><span class="inline-wrap">镜像库</span></h2><h1 class="wolai-block"><span class="inline-wrap">生命周期与插件</span></h1><h2 class="wolai-block"><span class="inline-wrap">生命周期</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">Maven<span class="jill"></span>的生命周期就是对所有的构建过程进行抽象和统一。包含了项目的清理、初始化、编译、测试、打包、集成测试、验证、部署和站点生成等几乎所有的构建步骤。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">Maven<span class="jill"></span>有三套相互独立的生命周期，分别是<span class="jill"></span>clean、default<span class="jill"></span>和<span class="jill"></span>site。每个生命周期包含一些阶段（phase），阶段是有顺序的，后面的阶段依赖于前面的阶段。每个构建阶段都包含一系列构建目标，当运行一个阶段时，所有绑定到这个阶段的目标都将按顺序执行。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>1、clean<span class="jill"></span>生命周期</b></span><span class="inline-wrap">：清理项目，包含三个<span class="jill"></span>phase。</span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">pre-clean：执行清理前需要完成的工作</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">clean：清理上一次构建生成的文件</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">post-clean：执行清理后需要完成的工作</span></li></ul><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>2、default<span class="jill"></span>生命周期</b></span><span class="inline-wrap">：构建项目，重要的<span class="jill"></span>phase<span class="jill"></span>如下。</span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">validate：验证工程是否正确，所有需要的资源是否可用。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">compile：编译项目的源代码。 </span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">test：使用合适的单元测试框架来测试已编译的源代码。这些测试不需要已打包和布署。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">Package：把已编译的代码打包成可发布的格式，比如<span class="jill"></span>jar。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">integration-test：如有需要，将包处理和发布到一个能够进行集成测试的环境。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">verify：运行所有检查，验证包是否有效且达到质量标准。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">install：把包安装到<span class="jill"></span>maven<span class="jill"></span>本地仓库，可以被其他工程作为依赖来使用。</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">Deploy：在集成或者发布环境下执行，将最终版本的包拷贝到远程的<span class="jill"></span>repository，使得其他的开发者或者工程可以共享。</span></li></ul><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>3、site<span class="jill"></span>生命周期</b></span><span class="inline-wrap">：建立和发布项目站点，phase<span class="jill"></span>如下</span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">pre-site：生成项目站点之前需要完成的工作</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">site：生成项目站点文档</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">post-site：生成项目站点之后需要完成的工作</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">site-deploy：将项目站点发布到服务器</span></li></ul><h2 class="wolai-block"><span class="inline-wrap">使用插件</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">Maven<span class="jill"></span>的生命周期是抽象的，它不做任何实际的工作，实际任务由插件完成。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">我们有两种方式使用插件</span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">通过阶段调用插件功能</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">直接调用插件的功能</span></li></ul><h3 class="wolai-block"><span class="inline-wrap">通过阶段调用插件</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap">我们指定了阶段后，Maven<span class="jill"></span>就会调用能在该阶段运行的目标</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">例如调用</span><span class="inline-wrap"><i>mvn package</i></span><span class="inline-wrap">就会自动调用</span><span class="inline-wrap"><i>maven-jar-plugin:jar</i></span><span class="inline-wrap">。生命周期中所有前置的<span class="jill"></span>phase<span class="jill"></span>会先自动执行。</span></div></div><h3 class="wolai-block"><span class="inline-wrap">直接调用插件的功能</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap">直接调用插件的某个功能(goal)。如</span><span class="inline-wrap"><i>mvn maven-jar-plugin:jar</i></span><span class="inline-wrap">。maven<span class="jill"></span>有一个约定，如果插件的名字叫<span class="jill"></span>maven-xxxx-plugin<span class="jill"></span>或<span class="jill"></span>xxxx-maven-plugin<span class="jill"></span>的话。可以直接用<span class="jill"></span>mvn xxxx:goal<span class="jill"></span>的方式调用其提供的功能。所以前面这个命令就可以简写成：</span><span class="inline-wrap"><i>mvn jar:jar</i></span><span class="inline-wrap">。</span><span class="inline-wrap"><b>这种方式只会执行指定的<span class="jill"></span>goal</b></span><span class="inline-wrap">。 </span></div></div><h2 class="wolai-block"><span class="inline-wrap">package、install、deploy</span></h2><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">package<span class="jill"></span>命令完成了项目编译、单元测试、打包功能，但没有把打好的可执行<span class="jill"></span>jar<span class="jill"></span>包（war<span class="jill"></span>包或其它形式的包）布署到本地<span class="jill"></span>maven<span class="jill"></span>仓库和远程<span class="jill"></span>maven<span class="jill"></span>私服仓库</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">install<span class="jill"></span>命令完成了项目编译、单元测试、打包功能，同时把打好的可执行<span class="jill"></span>jar<span class="jill"></span>包（war<span class="jill"></span>包或其它形式的包）布署到本地<span class="jill"></span>maven<span class="jill"></span>仓库，但没有布署到远程<span class="jill"></span>maven<span class="jill"></span>私服仓库</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">deploy<span class="jill"></span>命令完成了项目编译、单元测试、打包功能，同时把打好的可执行<span class="jill"></span>jar<span class="jill"></span>包（war<span class="jill"></span>包或其它形式的包）布署到本地<span class="jill"></span>maven<span class="jill"></span>仓库和远程<span class="jill"></span>maven<span class="jill"></span>私服仓库</span></li></ul><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="PowerShell" class="marker"></div><pre><span class="token comment"># 常用命令</span>
mvn clean package
mvn package <span class="token operator">-</span>P dev
mvn package <span class="token operator">-</span>Dmaven<span class="token punctuation">.</span>test<span class="token punctuation">.</span>skip=true <span class="token operator">-</span>DoutputDirectory=~<span class="token operator">/</span></pre></div></code-block><h1 class="wolai-block"><span class="inline-wrap">聚合与继承</span></h1><h2 class="wolai-block"><span class="inline-wrap">聚合</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">一个项目往往由多个模块组成，我们需要分别对这些项目进行构建，这很麻烦，我们想要一个功能，就是一次就能把所有项目构建完毕。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">为了实现这个功能，我们需要创建一个额外的模块，通过这个模块构建整个项目的所有模块。下面是这个模块的<span class="jill"></span>POM<span class="jill"></span>文件。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Xml" class="marker"></div><pre><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.hdr.mymall<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mymall-aggregator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span> <span class="token comment">&lt;!--对于聚合模块来说，它的打包方式必须是pom--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>MyMall Aggregator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>mymall-account<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>mymall-order<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>
        <span class="token comment">&lt;!--这里每个module的值都该模块与聚合模块pom文件的相对位置--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">这时候对该聚合模块执行构建就会对所有模块进行构建。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">继承</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">很多时候，一个项目的多个模块会共用一些依赖，如果每个在每个项目都导入这些依赖，那就太浪费了，这时候我们可以创建一个父模块，在父模块导入这些共用的依赖，子模块继承父模块即可得到那些依赖。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Xml" class="marker"></div><pre><span class="token comment">&lt;!--父模块--></span>
<span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.hdr.learn<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span> 
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            ......
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span></pre></div></code-block><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Xml" class="marker"></div><pre><span class="token comment">&lt;!--子模块--></span>
<span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>
   
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>relativePath</span><span class="token punctuation">></span></span>
            <span class="token comment">&lt;!--构建项目的时候，首先会根据relativePath检查父POM，如果找不到再从本地仓库找--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!--这里没有声明groupId、version，因为它能继承父模块的--></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-son<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            ......
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>
    

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span></pre></div></code-block><h2 class="wolai-block"><span class="inline-wrap">依赖管理</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">有些时候，父模块导入的依赖不是所有子模块都需要的，这时候我们可以使用</span><span class="inline-wrap"><code>dependencyManagement</code></span><span class="inline-wrap">元素。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>dependencyManagement</code></span><span class="inline-wrap">元素下的依赖声明并不会引入实际的依赖，不过它能约束</span><span class="inline-wrap"><code>dependencies</code></span><span class="inline-wrap">下的依赖使用。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">插件管理</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">对于插件，同样也提供了</span><span class="inline-wrap"><code>pluginsManagement</code></span><span class="inline-wrap">元素。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">多继承</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">想必大家在做<span class="jill"></span>SpringBoot<span class="jill"></span>应用的时候，都会有如下代码：</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="XML" class="marker"></div><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.3.3.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">继承一个父模块，然后再引入相应的依赖</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">假如说，我不想继承，或者我想继承多个，怎么做？</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">我们知道<span class="jill"></span>Maven<span class="jill"></span>的继承和<span class="jill"></span>Java<span class="jill"></span>的继承一样，是无法实现多重继承的，如果<span class="jill"></span>10<span class="jill"></span>个、20<span class="jill"></span>个甚至更多模块继承自同一个模块，那么按照我们之前的做法，这个父模块的<span class="jill"></span>dependencyManagement<span class="jill"></span>会包含大量的依赖。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">如果你想把这些依赖分类以更清晰的管理，那就不可能了，import scope<span class="jill"></span>依赖能解决这个问题。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="XML" class="marker"></div><pre><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring.boot.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">></span></span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">上面代码的意思是将</span><span class="inline-wrap"><code>spring-boot-dependencies</code></span><span class="inline-wrap"> 中</span><span class="inline-wrap"><code>dependencyManagement</code></span><span class="inline-wrap">的</span><span class="inline-wrap"><code>dependencies</code></span><span class="inline-wrap">，全部引入到当前工程的</span><span class="inline-wrap"><code>dependencyManagement</code></span><span class="inline-wrap">中。</span></div></div><h1 class="wolai-block"><span class="inline-wrap">使用<span class="jill"></span>Maven<span class="jill"></span>进行测试</span></h1><h2 class="wolai-block"><span class="inline-wrap">测试</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">Maven<span class="jill"></span>本身并不是一个单元测试框架，Maven<span class="jill"></span>通过插件来执行<span class="jill"></span>JUnit、TestNG<span class="jill"></span>的测试用例。这一插件就是</span><span class="inline-wrap"><code>maven-surefire-plugin</code></span><span class="inline-wrap">。通过</span><span class="inline-wrap"><code>mvn test</code></span><span class="inline-wrap">命令即可执行测试。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">在默认情况下，</span><span class="inline-wrap"><code>maven-surefire-plugin</code></span><span class="inline-wrap">的<span class="jill"></span>test<span class="jill"></span>目标会自动执行测试源码路径（src/test/java）下所有符合下面命名模式的测试类。</span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>**/Test*.java</code></span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>**/*Test.java</code></span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>**/*TestCase.java</code></span></li></ul><h2 class="wolai-block"><span class="inline-wrap">跳过测试</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">有时候我们需要<span class="jill"></span>Maven<span class="jill"></span>跳过测试。可以通过参数</span><span class="inline-wrap"><code>skipTests</code></span><span class="inline-wrap">实现.</span><span class="inline-wrap"><code>mvn package -D skipTests</code></span><span class="inline-wrap">。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">动态指定要运行的测试用例</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>mvn test -D test=RandomGeneratorTest</code></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>mvn test -D test=TestOne,TestTwo</code></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>mvn test -D test=*Test</code></span></div></div><h2 class="wolai-block"><span class="inline-wrap">包括与排除测试用例</span></h2><h2 class="wolai-block"><span class="inline-wrap">测试报告</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">默认情况下，</span><span class="inline-wrap"><code>maven-surefire-plugin</code></span><span class="inline-wrap">会在项目的</span><span class="inline-wrap"><code>target/surefire-reports</code></span><span class="inline-wrap">目录下生成两种格式的错误报告：</span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">简单文本格式</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">与<span class="jill"></span>JUnit<span class="jill"></span>兼容的<span class="jill"></span>XML<span class="jill"></span>格式</span></li></ul><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>测试覆盖率报告</b></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">通过</span><span class="inline-wrap"><code>cobertura-maven-plugin</code></span><span class="inline-wrap">我们可以为<span class="jill"></span>Maven<span class="jill"></span>项目生成测试覆盖率报告。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>mvn cobertura:cobertura</code></span><span class="inline-wrap"> 会在</span><span class="inline-wrap"><code>target/site/cobertura/</code></span><span class="inline-wrap">下生成一个<span class="jill"></span>index.html<span class="jill"></span>文件，打开就能看到测试覆盖率报告。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">重用测试代码</span></h2><h1 class="wolai-block"><span class="inline-wrap">版本管理</span></h1><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>版本管理：</b></span><span class="inline-wrap"> 项目整体版本的演变过程管理</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>版本控制：</b></span><span class="inline-wrap"> 借助版本控制工具追踪代码的每一个变更</span></div></div><h2 class="wolai-block"><span class="inline-wrap">Maven<span class="jill"></span>版本号定义约定</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">Maven<span class="jill"></span>的版本号约定是这样的：</span><span class="inline-wrap"><code>主版本号.次版本号.增量版本-里程碑版本</code></span><span class="inline-wrap">。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">主版本：表示项目重大架构的变更</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">次版本：表示较大范围 的功能增大和变化，及<span class="jill"></span>bug<span class="jill"></span>修复</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">增量版本：一般表示重大<span class="jill"></span>Bug<span class="jill"></span>的修复</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">里程碑版本：</span></div></div><h2 class="wolai-block"><span class="inline-wrap">自动化版本发布</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">发布一个版本往往需要走很多个流程，因此<span class="jill"></span>Maven<span class="jill"></span>提供了</span><span class="inline-wrap"><code>Maven-Release-Plugin</code></span><span class="inline-wrap">。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">该插件主要有三个目标。</span><span class="inline-wrap"><code>release：prepare</code></span><span class="inline-wrap">、</span><span class="inline-wrap"><code>release：rollback</code></span><span class="inline-wrap">、</span><span class="inline-wrap"><code>release：perform</code></span><span class="inline-wrap">。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><h1 class="wolai-block"><span class="inline-wrap">可执行<span class="jill"></span>Jar<span class="jill"></span>包</span></h1><div class="wolai-bookmark wolai-block"><a href="https://stackoverflow.com/questions/57019143/build-executable-jar-with-javafx11-from-maven">Build executable JAR with JavaFX11 from maven</a><div class="info-box"><div class="text-pane"><div data-title="Build executable JAR with JavaFX11 from maven"></div><div data-desc="I&apos;ve made a Java app which uses Maven, JavaFX and some other dependencies.
Before, it was easy to build an executable jar but since Java11 is modular and does not include JavaFX i just can&apos;t build a"></div><div class="icon-host"><div class="icon icon-image" style="background-image: url(&quot;https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon.png?v=c78bd457575a&quot;)"></div><div data-hostname="stackoverflow.com"></div></div></div><div class="preview-pane" style="background-image: url(https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon.png?v=c78bd457575a)"></div></div></div><div class="wolai-block wolai-text"><div></div></div></article><footer></footer></body></html>