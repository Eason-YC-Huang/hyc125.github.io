<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../../css/wolai.css"/><title>3.数据类型 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="3.数据类型" class="main-title"></div></div></header><article><h1 class="wolai-block"><span class="inline-wrap">MySQL<span class="jill"></span>数据类型</span></h1><div class="wolai-block wolai-text"><div><span class="inline-wrap">MySQL<span class="jill"></span>数据类型主要分为以下三种：</span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">数字类型</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">字符串类型</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">时态类型</span></li></ul><h2 class="wolai-block"><span class="inline-wrap">1.数值类型</span></h2><h3 class="wolai-block"><span class="inline-wrap">1.1<span class="jill"></span>整数类型</span></h3><div class="wolai-block wolai-simple-table"><table><tbody><tr><td style="width: 370px"><span class="inline-wrap">整数类型</span></td><td style="width: 370px"><span class="inline-wrap">字节</span></td></tr><tr><td style="width: 370px"><span class="inline-wrap"><code>TINYINT</code></span></td><td style="width: 370px"><span class="inline-wrap">1</span></td></tr><tr><td style="width: 370px"><span class="inline-wrap"><code>SMALLINT</code></span></td><td style="width: 370px"><span class="inline-wrap">2</span></td></tr><tr><td style="width: 370px"><span class="inline-wrap"><code>MEDIUMINT</code></span></td><td style="width: 370px"><span class="inline-wrap">3</span></td></tr><tr><td style="width: 370px"><span class="inline-wrap"><code>INT</code></span></td><td style="width: 370px"><span class="inline-wrap">4</span></td></tr><tr><td style="width: 370px"><span class="inline-wrap"><code>BIGINT</code></span></td><td style="width: 370px"><span class="inline-wrap">8</span></td></tr></tbody></table></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Sql" class="marker"></div><pre>num1 <span class="token keyword">INT</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> </pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>注意</b></span><span class="inline-wrap">：在定义整数类型时，可以指定显示宽度，例如上面的<span class="jill"></span>10，使用这东西，占用的存储内存不变，而且如果内容长度超过指定的显示宽度，内容不会被截断，而是会完整的实现出来。</span></div></div><h3 class="wolai-block"><span class="inline-wrap">1.2<span class="jill"></span>浮点类型与定点类型</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap">浮点类型与定点类型都可以用来记录具有小数的数字。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>浮点类型分为</b></span><span class="inline-wrap"><b><code>float</code></b></span><span class="inline-wrap"><b>和</b></span><span class="inline-wrap"><b><code>double</code></b></span></div></div><div class="wolai-block wolai-simple-table"><table><tbody><tr><td style="width: 148px"><span class="inline-wrap">属性</span></td><td style="width: 148px"><span class="inline-wrap">存储空间</span></td><td style="width: 148px"><span class="inline-wrap">精度</span></td><td style="width: 148px"><span class="inline-wrap">精确性</span></td><td style="width: 148px"><span class="inline-wrap">说明</span></td></tr><tr><td style="width: 148px"><span class="inline-wrap">FLOAT(M, D)</span></td><td style="width: 148px"><span class="inline-wrap">4 bytes</span></td><td style="width: 148px"><span class="inline-wrap">单精度</span></td><td style="width: 148px"><span class="inline-wrap">不精确</span></td><td style="width: 148px"><span class="inline-wrap">总共<span class="jill"></span>M<span class="jill"></span>个数，小数<span class="jill"></span>D<span class="jill"></span>个</span></td></tr><tr><td style="width: 148px"><span class="inline-wrap">DOUBLE(M, D)</span></td><td style="width: 148px"><span class="inline-wrap">8 bytes</span></td><td style="width: 148px"><span class="inline-wrap">双精度</span></td><td style="width: 148px"><span class="inline-wrap">不精确，但比<span class="jill"></span>float<span class="jill"></span>高</span></td><td style="width: 148px"><span class="inline-wrap">总共<span class="jill"></span>M<span class="jill"></span>个数，小数<span class="jill"></span>D<span class="jill"></span>个</span></td></tr></tbody></table></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>定点类型分为</b></span><span class="inline-wrap"><b><code>DECIMAL</code></b></span><span class="inline-wrap"><b>和</b></span><span class="inline-wrap"><b><code>NUMERIC</code></b></span><span class="inline-wrap"> (</span><span class="inline-wrap">在<span class="jill"></span>MySQL<span class="jill"></span>中,这两者是一样的</span><span class="inline-wrap">)</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Mysql" class="marker"></div><pre>salary <span class="token constant">DECIMAL</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span> <span class="token operator">--</span> 一共x个数字，小数点后有y个数字，x最大值为<span class="token number">65</span></pre></div></code-block><h3 class="wolai-block"><span class="inline-wrap">1.3<span class="jill"></span>数字类型的属性</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>UNSINGED</code></span><span class="inline-wrap">属性可以防止出现负值。（除了<span class="jill"></span>BIT<span class="jill"></span>以外的所有数字类型都能用）</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Sql" class="marker"></div><pre>itiny <span class="token keyword">TINYINT</span>，<span class="token comment">--值范围 -128~-127</span>
itiny_u <span class="token keyword">TINYINT</span> UNSINGED<span class="token punctuation">,</span> <span class="token comment">--值范围 0~255</span></pre></div></code-block><h2 class="wolai-block"><span class="inline-wrap">2.字符串类型</span></h2><h3 class="wolai-block"><span class="inline-wrap">2.1CHAR<span class="jill"></span>与<span class="jill"></span>VARCHAR</span></h3><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Mysql" class="marker"></div><pre><span class="token constant">CHAR</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> 
<span class="token operator">--</span> 存储n个字符<span class="token punctuation">,</span><span class="token number">0</span> ⇐ n ⇐ <span class="token number">255</span>
<span class="token operator">--</span> 不满n个字符<span class="token punctuation">,</span>用空格填充<span class="token punctuation">,</span>获取的时删除字符串末端所有空格
<span class="token operator">--</span> <span class="token maybe-class-name">MySQL建议使用</span><span class="token constant">VARCHAR</span>代替<span class="token constant">CHAR</span>
<span class="token operator">--</span> <span class="token maybe-class-name">InnoDB</span> encodes fixed<span class="token operator">-</span>length fields greater than or equal to <span class="token number">768</span> bytes <span class="token keyword">in</span> length <span class="token keyword module">as</span> variable<span class="token operator">-</span>length fields
<span class="token constant">VARCHAR</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>  
<span class="token operator">--</span> 存储n个字符 n的取值范围取决于该列可用容量以及字符编码
<span class="token operator">--</span> 该列可用容量
  <span class="token operator">--</span> 一个表里面<span class="token punctuation">,</span>除了<span class="token constant">TEXT</span>和<span class="token constant">BLOB</span>列<span class="token punctuation">,</span>所有列一共只能使用<span class="token number">65535</span>字节
<span class="token operator">--</span> 字符编码
  <span class="token operator">--</span> <span class="token number">0</span> ⇐ n ⇐ <span class="token number">65535</span><span class="token operator">/</span><span class="token function">charsize</span><span class="token punctuation">(</span><span class="token maybe-class-name">Byte</span><span class="token punctuation">)</span>  对于utf8mb4  <span class="token number">0</span> ⇐ n <span class="token function">⇐</span> <span class="token punctuation">(</span><span class="token number">65535</span>÷<span class="token number">4</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">16383</span>
<span class="token operator">--</span> 与<span class="token constant">CHAR</span>相比<span class="token punctuation">,</span><span class="token constant">VARCHAR</span>需要额外使用<span class="token number">1</span>或<span class="token number">2</span>个字节说明该字段值的大小</pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>注意:在严格<span class="jill"></span>SQL<span class="jill"></span>模式下,如果存储的字符个数大于<span class="jill"></span>n,会报错,如果不是严格<span class="jill"></span>SQL<span class="jill"></span>模式下,多余的字符会被删掉</b></span></div></div><h3 class="wolai-block"><span class="inline-wrap">2.2BINARY<span class="jill"></span>和<span class="jill"></span>VARBINARY</span></h3><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">BINARY</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">VARBINARY</span></li></ul><h3 class="wolai-block"><span class="inline-wrap">2.3TEXT<span class="jill"></span>和<span class="jill"></span>BLOB</span></h3><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Mysql" class="marker"></div><pre><span class="token operator">--</span> <span class="token constant">BLOB</span> types are <span class="token constant">TINYBLOB</span><span class="token punctuation">,</span> <span class="token constant">BLOB</span><span class="token punctuation">,</span> <span class="token constant">MEDIUMBLOB</span><span class="token punctuation">,</span> and <span class="token constant">LONGBLOB</span>
<span class="token operator">--</span> <span class="token constant">TEXT</span> types are <span class="token constant">TINYTEXT</span><span class="token punctuation">,</span> <span class="token constant">TEXT</span><span class="token punctuation">,</span> <span class="token constant">MEDIUMTEXT</span><span class="token punctuation">,</span> and <span class="token constant">LONGTEXT</span></pre></div></code-block><h3 class="wolai-block"><span class="inline-wrap">2.4ENUM<span class="jill"></span>和<span class="jill"></span>SET</span></h3><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Sql" class="marker"></div><pre>gender <span class="token keyword">ENUM</span><span class="token punctuation">(</span><span class="token string">'male'</span><span class="token punctuation">,</span><span class="token string">'female'</span><span class="token punctuation">)</span> <span class="token comment">-- 单选</span>
hoddy <span class="token keyword">SET</span><span class="token punctuation">(</span><span class="token string">'football'</span><span class="token punctuation">,</span><span class="token string">'basketball'</span><span class="token punctuation">)</span> <span class="token comment">-- 多选</span></pre></div></code-block><h2 class="wolai-block"><span class="inline-wrap">3.时态类型</span></h2><h3 class="wolai-block"><span class="inline-wrap">3.0<span class="jill"></span>关于时间的基本概念</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>TIMESTAMP</b></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">时间戳是一个数字，定义为格林威治时间<span class="jill"></span>1970<span class="jill"></span>年<span class="jill"></span>01<span class="jill"></span>月<span class="jill"></span>01<span class="jill"></span>日<span class="jill"></span>00<span class="jill"></span>时<span class="jill"></span>00<span class="jill"></span>分<span class="jill"></span>00<span class="jill"></span>秒起到现在的总秒数。</span><span class="inline-wrap"><b>注意，同一时刻，不同时区获得的时间戳是相同的。</b></span><span class="inline-wrap">以前很多用来记录时间的字段，在数据库中往往不会存储为<span class="jill"></span>Datetime<span class="jill"></span>类型，而是直接存储为无符号整形，存放时间戳的值。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>LocalDateTime</b></span><span class="inline-wrap">当前时区的时间 </span><span class="inline-wrap"><code>2017-12-08 11:50:03.537506</code></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>StandardDateTime</b></span><span class="inline-wrap">标准时间包含时区信息</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>2017-12-08T00:00:00.00Z</code></span><span class="inline-wrap"> 这个代表了<span class="jill"></span>UTC<span class="jill"></span>时间的<span class="jill"></span>2017<span class="jill"></span>年<span class="jill"></span>12<span class="jill"></span>月<span class="jill"></span>08<span class="jill"></span>日零时</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>2017-12-08T00:08:00.00+08:00</code></span><span class="inline-wrap"> 这个代表了北京时间的<span class="jill"></span>2017<span class="jill"></span>年<span class="jill"></span>12<span class="jill"></span>月<span class="jill"></span>08<span class="jill"></span>日零时</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">北京时间的<span class="jill"></span>2017<span class="jill"></span>年<span class="jill"></span>12<span class="jill"></span>月<span class="jill"></span>08<span class="jill"></span>日<span class="jill"></span>0<span class="jill"></span>时的时候<span class="jill"></span>UTC<span class="jill"></span>时间是<span class="jill"></span>2017<span class="jill"></span>年<span class="jill"></span>12<span class="jill"></span>月<span class="jill"></span>07<span class="jill"></span>日<span class="jill"></span>16<span class="jill"></span>时</span></div></div><h3 class="wolai-block"><span class="inline-wrap">3.1DATETIME、TIMESTAMP 、TIME、DATE</span></h3><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="MySQL" class="marker"></div><pre><span class="token constant">TIMESTAMP</span>
<span class="token operator">--</span> 存储日期和时间
<span class="token operator">--</span> 存储格式<span class="token operator">:</span> <span class="token string">'YYYY-MM-DD hh:mm:ss[.小数]'</span>
<span class="token operator">--</span> 取值范围<span class="token operator">:</span> <span class="token string">'1970-01-01 00:00:01.000000'</span> to <span class="token string">'2038-01-19 03:14:07.999999'</span>
<span class="token operator">--</span> <span class="token constant">TIMESTAMP</span>的值在存储时会被转换成<span class="token constant">UTC</span><span class="token punctuation">,</span> 获取时把<span class="token constant">UTC</span>转换成当前服务器或该连接设置的时区

<span class="token constant">DATE</span>
<span class="token operator">--</span> 存储日期，不存储时间
<span class="token operator">--</span> 存储格式：<span class="token constant">YYYY</span><span class="token operator">-</span><span class="token constant">MM</span><span class="token operator">-</span><span class="token constant">DD</span> 
<span class="token operator">--</span> 取值范围：<span class="token string">'1000-01-01'</span> to <span class="token string">'9999-12-31'</span>

<span class="token constant">TIME</span>
<span class="token operator">--</span> 存储时间<span class="token punctuation">,</span>不仅仅是存取一天的时间<span class="token punctuation">,</span><span class="token function">还能存储时间间隔</span><span class="token punctuation">(</span>鸡肋<span class="token punctuation">)</span>
<span class="token operator">--</span> 存储格式<span class="token operator">:</span> <span class="token string">'hh:mm:ss[.小数]'</span> 或者 'hh<span class="token operator">:</span>mm<span class="token operator">:</span>ss<span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token property-access">小数</span><span class="token punctuation">]</span>
<span class="token operator">--</span> 取值范围<span class="token operator">:</span> <span class="token string">'-838:59:59.000000'</span> to <span class="token string">'838:59:59.000000'</span>

<span class="token constant">DATETIME</span> 
<span class="token operator">--</span> 存储日期和时间
<span class="token operator">--</span> 存储格式：<span class="token string">'YYYY-MM-DD hh:mm:ss[.小数]'</span>
<span class="token operator">--</span> 取值范围：<span class="token string">'1000-01-01 00:00:00[.000000]'</span> to <span class="token string">'9999-12-31 23:59:59[.999999]'</span></pre></div></code-block><h3 class="wolai-block"><span class="inline-wrap">3.2YEAR</span></h3><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Mysql" class="marker"></div><pre><span class="token constant">YEAR</span>
<span class="token operator">--</span> 存储年份
<span class="token operator">--</span> 格式 yyyy
<span class="token operator">--</span> 取值范围 <span class="token number">1901</span> to <span class="token number">2155</span></pre></div></code-block><h3 class="wolai-block"><span class="inline-wrap">3.3DATETIME<span class="jill"></span>和<span class="jill"></span>TIMESTAMP<span class="jill"></span>的自动初始化与自动更新</span></h3><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Mysql" class="marker"></div><pre><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token function">t1</span> <span class="token punctuation">(</span>
  ts <span class="token constant">TIMESTAMP</span> <span class="token constant">DEFAULT</span> <span class="token constant">CURRENT_TIMESTAMP</span> <span class="token constant">ON</span> <span class="token constant">UPDATE</span> <span class="token constant">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
  dt <span class="token constant">DATETIME</span> <span class="token constant">DEFAULT</span> <span class="token constant">CURRENT_TIMESTAMP</span> <span class="token constant">ON</span> <span class="token constant">UPDATE</span> <span class="token constant">CURRENT_TIMESTAMP</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>常用日期和时间处理函数</b></span></div></div><div class="wolai-block wolai-center"><figure><img src="media/%E5%B8%B8%E7%94%A8%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4%E5%A4%84%E7%90%86%E5%87%BD%E6%95%B0.png" style="width: 760px"/></figure></div><h1 class="wolai-block"><span class="inline-wrap">数据库设计</span></h1><h2 class="wolai-block"><span class="inline-wrap">范式与反范式</span></h2><blockquote class="wolai-block"><span class="inline-wrap">设计关系数据库时，遵从不同的规范要求，设计出合理的关系型数据库，这些不同的规范要求被称为不同的范式，各种范式呈递次规范，越高的范式数据库冗余越小。但是有些时候一昧的追求范式减少冗余，反而会降低数据读写的效率，这个时候就要反范式，利用空间来换时间。</span></blockquote><div class="wolai-block wolai-text"><div><span class="inline-wrap">目前关系数据库有六种范式：第一范式（1NF）、第二范式（2NF）、第三范式（3NF）、巴斯-科德范式（BCNF）、第四范式(4NF）和第五范式（5NF，又称完美范式）。满足最低要求的范式是第一范式（1NF）。在第一范式的基础上进一步满足更多规范要求的称为第二范式（2NF），其余范式以次类推。一般说来，数据库只需满足第三范式(3NF）就行了。</span></div></div><h3 class="wolai-block"><span class="inline-wrap">三范式</span></h3><h4 class="wolai-block"><span class="inline-wrap">第一范式（1NF）</span></h4><div class="wolai-block wolai-text"><div><span class="inline-wrap">强调的是列的原子性，即列不能够再分成其他几列。简而言之，第一范式就是无重复的列。</span></div></div><h4 class="wolai-block"><span class="inline-wrap">第二范式（2NF）</span></h4><div class="wolai-block wolai-text"><div><span class="inline-wrap">第二范式（2NF）是在第一范式（1NF）的基础上建立起来的，满足第二范式（2NF）必须先满足第一范式（1NF）。第二范式（2NF）要求数据库表中的每个实例或行必须可以被唯一地区分。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>为实现区分通常需要我们设计一个主键来实现(这里的主键不包含业务逻辑)</b></span></div></div><h4 class="wolai-block"><span class="inline-wrap">第三范式（3NF）</span></h4><div class="wolai-block wolai-text"><div><span class="inline-wrap">第三范式（3NF）要求一个数据库表中不包含已在其它表中已包含的非主键字段。就是说，表的信息，如果能够被推导出来，就不应该单独的设计一个字段来存放(能尽量外键<span class="jill"></span>join<span class="jill"></span>就用外键<span class="jill"></span>join)。很多时候，我们为了满足第三范式往往会把一张表分成多张表</span></div></div><div class="wolai-block wolai-center"><figure><img src="http://images0.cnblogs.com/blog2015/487276/201505/191142168389020.png" style="width: 759.5px"/></figure></div><h3 class="wolai-block"><span class="inline-wrap">反三范式</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap">没有冗余的数据库未必是最好的数据库，有时为了提高运行效率，就必须降低范式标准，适当保留冗余数据。具体做法是： 在概念数据模型设计时遵守第三范式，降低范式标准的工作放到物理数据模型设计时考虑。降低范式就是增加字段，减少了查询时的关联，提高查询效率，因为在数据库的操作中查询的比例要远远大于<span class="jill"></span>DML<span class="jill"></span>的比例。但是反范式化一定要适度，并且在原本已满足三范式的基础上再做调整的。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">设计库设计原则</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap"><a href="https://www.cnblogs.com/ningskyer/articles/5632017.html"><span>十一条数据库设计原则</span></a></span></div></div><h2 class="wolai-block"><span class="inline-wrap">数据类型的选择</span></h2><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">对于整数类型，在满足需求的情况下，更小的通常更好</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">简单就好，整数比字符串更易于计算，使用<span class="jill"></span>MySQL<span class="jill"></span>提供的时态类型来处理时间和日期，而不是用字符串</span></li></ul><div class="wolai-block wolai-text"><div></div></div></article><footer></footer></body></html>