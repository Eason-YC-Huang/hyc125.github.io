<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/wolai.css"/><title>二分 - wolai 笔记</title><link rel="shortcut icon"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="二分" class="main-title"></div></div></header><article><h2 class="wolai-block"><span class="inline-wrap"><b>简介</b></span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">「二分」不是单纯指从有序数组中快速找某个数，这只是「二分」的一个应用。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">「二分」的本质是二段性，并非单调性。只要一段满足某个性质，另外一段不满足某个性质，就可以用「二分」。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">二分模板</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">模板<span class="jill"></span>1</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">当我们将区间</span><span class="inline-wrap"><code>[lo, hi]</code></span><span class="inline-wrap">划分成</span><span class="inline-wrap"><code>[lo, mid]</code></span><span class="inline-wrap">和</span><span class="inline-wrap"><code>[mid+1, r]</code></span><span class="inline-wrap">时，其更新操作是</span><span class="inline-wrap"><code>hi=mid</code></span><span class="inline-wrap">或</span><span class="inline-wrap"><code>lo=mid+1</code></span><span class="inline-wrap">，计算</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">时不需要加</span><span class="inline-wrap"><code>1</code></span><span class="inline-wrap">，即</span><span class="inline-wrap"><code>mid=lo+((hi-lo)&gt;&gt;1)</code></span><span class="inline-wrap">。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">int</span> <span class="token function">bsearch_1</span><span class="token punctuation">(</span><span class="token keyword">int</span> lo<span class="token punctuation">,</span> <span class="token keyword">int</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hi<span class="token operator">-</span>lo<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">)</span> hi <span class="token operator">=</span> mid<span class="token punctuation">;</span>
    <span class="token keyword">else</span> lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> lo<span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">模板<span class="jill"></span>2</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">当我们将区间</span><span class="inline-wrap"><code>[lo, hi]</code></span><span class="inline-wrap">划分成</span><span class="inline-wrap"><code>[lo, mid-1]</code></span><span class="inline-wrap">和</span><span class="inline-wrap"><code>[mid, hi]</code></span><span class="inline-wrap">时，其更新操作是</span><span class="inline-wrap"><code>hi=mid-1</code></span><span class="inline-wrap">或者</span><span class="inline-wrap"><code>lo=mid</code></span><span class="inline-wrap">，此时为了防止死循环，计算</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">时需要加</span><span class="inline-wrap"><code>1</code></span><span class="inline-wrap">，即</span><span class="inline-wrap"><code>lo + ((hi-lo+1)&gt;&gt;1)</code></span><span class="inline-wrap">。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">int</span> <span class="token function">bsearch_2</span><span class="token punctuation">(</span><span class="token keyword">int</span> lo<span class="token punctuation">,</span> <span class="token keyword">int</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hi<span class="token operator">-</span>lo<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">)</span> lo <span class="token operator">=</span> mid<span class="token punctuation">;</span>
    <span class="token keyword">else</span> hi <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> lo<span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="pink inline-wrap">那么问题来了,怎么决定要使用哪个模板呢？具体问题,具体分析<span class="jill"></span>0.0</span></div></div><hr class="wolai-block"/><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">找出第一个等于给定值的元素（言下之意，有重复元素）</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">当</span><span class="inline-wrap"><code>nums[mid]≥target</code></span><span class="inline-wrap">时,因为结果可能就是</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">也可能是在</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">的左边,所以我们需要让</span><span class="inline-wrap"><code>hi=mid</code></span><span class="inline-wrap">,也就是我们把区间分成了</span><span class="inline-wrap"><code>[lo,mid]</code></span><span class="inline-wrap">和</span><span class="inline-wrap"><code>[mid+1,hi]</code></span><span class="inline-wrap">,也就是用模板<span class="jill"></span>1</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">int</span> <span class="token function">bsearch_1</span><span class="token punctuation">(</span><span class="token keyword">int</span> lo<span class="token punctuation">,</span> <span class="token keyword">int</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hi<span class="token operator">-</span>lo<span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span>≥target<span class="token punctuation">)</span> hi <span class="token operator">=</span> mid<span class="token punctuation">;</span>
    <span class="token keyword">else</span> lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> lo<span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">标准二分</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">当</span><span class="inline-wrap"><code>nums[mid]&gt;target</code></span><span class="inline-wrap">时,</span><span class="inline-wrap"><code>hi=mid-1</code></span><span class="inline-wrap">,所以是模板<span class="jill"></span>2,最后</span><span class="inline-wrap"><code>lo=hi</code></span><span class="inline-wrap">,它们的值要么等于目标值,要么是最后一个小于目标值的元素.</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">当然,你也可以有另一种切分</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">当</span><span class="inline-wrap"><code>nums[mid]≥target</code></span><span class="inline-wrap">时,</span><span class="inline-wrap"><code>hi=mid</code></span><span class="inline-wrap">,所以是模板<span class="jill"></span>1,最后</span><span class="inline-wrap"><code>lo=hi</code></span><span class="inline-wrap">,它们的值要么等于目标值,要么是第一个大于目标值的元素</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">找出最后一个等于给定值的元素（言下之意，有重复元素）</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">当</span><span class="inline-wrap"><code>nums[mid]≥target</code></span><span class="inline-wrap">时,结果在</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">或</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">的右边,所以</span><span class="inline-wrap"><code>lo=mid</code></span><span class="inline-wrap">,所以是模板<span class="jill"></span>2</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">int</span> <span class="token function">bsearch_2</span><span class="token punctuation">(</span><span class="token keyword">int</span> lo<span class="token punctuation">,</span> <span class="token keyword">int</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hi<span class="token operator">-</span>lo<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">>></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span>≥target<span class="token punctuation">)</span> lo <span class="token operator">=</span> mid<span class="token punctuation">;</span>
    <span class="token keyword">else</span> hi <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> lo<span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></details><hr class="wolai-block"/><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">找出最后一个小于等于给定值的元素</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">当</span><span class="inline-wrap"><code>nums[mid]&gt;target</code></span><span class="inline-wrap">时，因为结果只能在</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">的左边,所以我们需要把</span><span class="inline-wrap"><code>hi=mid-1</code></span><span class="inline-wrap">,也就是我们把区间分成了</span><span class="inline-wrap"><code>[lo,mid-1]</code></span><span class="inline-wrap">和</span><span class="inline-wrap"><code>[mid,hi]</code></span><span class="inline-wrap">,也就是要用模板<span class="jill"></span>2</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> hi <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hi <span class="token operator">-</span> lo <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">></span> target<span class="token punctuation">)</span> hi <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> lo <span class="token operator">=</span> mid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">找出第一个大于等于给定值的元素</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">当</span><span class="inline-wrap"><code>nums[mid]≥target</code></span><span class="inline-wrap">时,结果在</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">或者</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">的左边,所以</span><span class="inline-wrap"><code>hi=mid</code></span><span class="inline-wrap">,所以是模板<span class="jill"></span>1</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> hi <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hi <span class="token operator">-</span> lo<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">>=</span> target<span class="token punctuation">)</span> hi <span class="token operator">=</span> mid<span class="token punctuation">;</span>
        <span class="token keyword">else</span> lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></details><hr class="wolai-block"/><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">找出最后一个小于给定值的元素</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">当</span><span class="inline-wrap"><code>nums[mid]≥target</code></span><span class="inline-wrap">时,结果在</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">的左边,所以</span><span class="inline-wrap"><code>hi=mid-1</code></span><span class="inline-wrap">,所以是模板<span class="jill"></span>2</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">找出第一个大于给定值的元素</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">当</span><span class="inline-wrap"><code>nums[mid]≥target</code></span><span class="inline-wrap">时,结果在</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">或者</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">的右边,所以</span><span class="inline-wrap"><code>lo=mid</code></span><span class="inline-wrap">,所以是模板<span class="jill"></span>2</span></div></div><aside class="bg-cultured wolai-block"><div data-symbol="🔥" class="icon"></div><span class="inline-wrap">但是这样,最后停留的位置,有可能等于给定值,也有可能大于给定值,你还需要再判断</span></aside><div class="wolai-block wolai-text"><div><span class="inline-wrap">换一种角度,当</span><span class="inline-wrap"><code>nums[mid]≤target</code></span><span class="inline-wrap">时,结果</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">的右边,所以</span><span class="inline-wrap"><code>lo=mid+1</code></span><span class="inline-wrap">,所以是模板<span class="jill"></span>1</span></div></div></details><hr class="wolai-block"/><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">找出最接近给定的值的元素</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">找出最后一个小于/第一个大于目标值的元素,然后跟下一个/前一个元素进行比较,找出最接近目标值的元素</span></div></div></details><hr class="wolai-block"/><div class="wolai-block wolai-text"><div><span class="inline-wrap">总结:先用</span><span class="inline-wrap"><code>nums[mid]≥target</code></span><span class="inline-wrap">进行思考,当这样做会导致停留处有歧义时,再考虑换别的角度</span></div></div><hr class="wolai-block"/><aside class="bg-cultured wolai-block"><div class="icon"></div><span class="inline-wrap">二分法为啥都是</span><span class="inline-wrap"><code>retrun left</code></span><span class="inline-wrap"> ?</span></aside><blockquote class="wolai-block"><span class="inline-wrap">呃...不能这样子理解，你想 </span><span class="inline-wrap"><code>return right</code></span><span class="inline-wrap"> 也不是不可以，像</span><span class="inline-wrap"><code>while (left &lt;= right)</code></span><span class="inline-wrap"> 的终止条件是 </span><span class="inline-wrap"><code>left - 1 == right</code></span><span class="inline-wrap">，这个时候你看你需要哪个下标就返回哪个。而</span><span class="inline-wrap"><code>while (left &lt; right)</code></span><span class="inline-wrap"> 的终止条件是 </span><span class="inline-wrap"><code>left == right</code></span><span class="inline-wrap">，你返回哪个都一样。很多时候写 </span><span class="inline-wrap"><code>return left</code></span><span class="inline-wrap"> 仅仅只是因为 </span><span class="inline-wrap"><code>left</code></span><span class="inline-wrap"> 比 </span><span class="inline-wrap"><code>right</code></span><span class="inline-wrap"> 要少打一个字母  </span><span class="inline-wrap"><b>:)</b></span></blockquote><hr class="wolai-block"/><h2 class="wolai-block"><span class="inline-wrap">练习</span></h2><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">29 两数相除</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap"><a href="https://leetcode-cn.com/problems/powx-n/solution/50-powx-n-kuai-su-mi-qing-xi-tu-jie-by-jyd/"><span>https://leetcode-cn.com/problems/powx-n/solution/50-powx-n-kuai-su-mi-qing-xi-tu-jie-by-jyd/</span></a></span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">34 在排序数组中查找元素的第一个和最后一个位置</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">典型二分变种,没啥好说的</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">153 寻找旋转排序数组中的最小值（找最小值）</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">经过旋转后的数组,分布图如下</span></div></div><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="media/image.png" style="width: 287px"/></figure></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">要求数组中的最小值,其实就是求第一个小于</span><span class="inline-wrap"><code>nums[len-1]</code></span><span class="inline-wrap">的元素</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">当</span><span class="inline-wrap"><code>nums[mid]&gt;nums[len-1]</code></span><span class="inline-wrap">,结果必然在</span><span class="inline-wrap"><code>mid</code></span><span class="inline-wrap">的右边,所以让</span><span class="inline-wrap"><code>lo=mid+1</code></span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">findMin</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> len <span class="token operator">=</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> hi <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hi <span class="token operator">-</span> lo<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">></span> nums<span class="token punctuation">[</span>len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> hi <span class="token operator">=</span> mid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">154 寻找旋转排序数组中的最小值 II（找最小值）</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">这题看着跟上一道没啥区别,但其实是有的</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">因为有重复的元素,它的分布图有可能是这样的(没有二段性)</span></div></div><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="media/image_1.png" style="width: 262px"/></figure></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">如果按照上面的做法,当</span><span class="inline-wrap"><code>nums[mid]≤nums[len-1]</code></span><span class="inline-wrap">,让</span><span class="inline-wrap"><code>hi=mid</code></span><span class="inline-wrap">(其实就是往左走,会有问题,因为有可能是在左边的上升段往左走)</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">所以我们要做的就是让左右两边没有相同的元素(恢复二段性),然后就能用上一个问题的解法了</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">findMin</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> hi <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">// 恢复二段性</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>lo<span class="token operator">&lt;</span>hi<span class="token operator">&amp;&amp;</span>nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token operator">==</span>nums<span class="token punctuation">[</span>hi<span class="token punctuation">]</span><span class="token punctuation">)</span> hi<span class="token operator">--</span><span class="token punctuation">;</span>
    
    <span class="token keyword">int</span> target <span class="token operator">=</span> nums<span class="token punctuation">[</span>hi<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hi <span class="token operator">-</span> lo<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">></span> target<span class="token punctuation">)</span> lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> hi <span class="token operator">=</span> mid<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">33 搜索旋转排序数组（找目标值）</span></summary><div class="wolai-block wolai-center"><figure style="width: 100%"><img src="media/image_2.png" style="width: 287px"/></figure></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">先找到旋转点,然后判断目标在旋转点的哪边,然后再做对应的二分</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">81 搜索旋转排序数组 II（找目标值）</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">恢复二段性,然后按照上一题的解法即可</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode-cn.com/problems/first-bad-version/"><span>278. 第一个错误的版本</span></a></span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">其实就是找出第一个等于目标值的元素</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">firstBadVersion</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> hi <span class="token operator">=</span> n<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hi <span class="token operator">-</span> lo<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isBadVersion</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">)</span> hi <span class="token operator">=</span> mid<span class="token punctuation">;</span>
        <span class="token keyword">else</span> lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> lo<span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode-cn.com/problems/minimum-absolute-sum-difference/"><span>1818. 绝对差值和</span></a></span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">我们在进行处理前，先对 </span><span class="inline-wrap"><code>nums1</code></span><span class="inline-wrap"> 进行拷贝并排序，得到 </span><span class="inline-wrap"><code>sorted</code></span><span class="inline-wrap"> 数组。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">然后 </span><span class="inline-wrap"><b>在遍历 </b></span><span class="inline-wrap"><b><code>nums1</code></b></span><span class="inline-wrap"><b> 和 </b></span><span class="inline-wrap"><b><code>nums2</code></b></span><span class="inline-wrap"><b> 计算总的差值 </b></span><span class="inline-wrap"><b><code>sum</code></b></span><span class="inline-wrap"><b> 时，通过对 </b></span><span class="inline-wrap"><b><code>sorted</code></b></span><span class="inline-wrap"><b> 进行二分查找，找到最合适替换 </b></span><span class="inline-wrap"><b><code>nums1[i]</code></b></span><span class="inline-wrap"><b> 的值</b></span><span class="inline-wrap">。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">具体的，当我们处理到第 </span><span class="inline-wrap"><code>i</code></span><span class="inline-wrap">位时，假设该位的原差值为 </span><span class="inline-wrap"><code>d=abs(nums1[i]−nums2[i])</code></span><span class="inline-wrap">，然后从 </span><span class="inline-wrap"><code>sorted</code></span><span class="inline-wrap"> 数组中通过二分找到最接近 </span><span class="inline-wrap"><code>nums2[i]</code></span><span class="inline-wrap"> 的值，计算一个新的差值 </span><span class="inline-wrap"><code>nd</code></span><span class="inline-wrap">（注意要检查分割点与分割点的下一位），如果满足 </span><span class="inline-wrap"><code>nd&lt;d</code></span><span class="inline-wrap"> 说明存在一个替换方案使得差值变小，我们使用变量 </span><span class="inline-wrap"><code>deduct</code></span><span class="inline-wrap"> 记下来这个替换方案所带来的变化，并不断更新 </span><span class="inline-wrap"><code>deduct</code></span><span class="inline-wrap">。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">当整个数组被处理完，max 存储着最优方案对应的差值变化，此时 </span><span class="inline-wrap"><code>sum−deduct</code></span><span class="inline-wrap"> 即是答案。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">minAbsoluteSumDiff</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums1<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> mod <span class="token operator">=</span> <span class="token number">1000000007</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> sorted <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>nums1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> len <span class="token operator">=</span> nums1<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> deduct <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> d <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>nums1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> nums2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sum <span class="token operator">=</span> <span class="token punctuation">(</span>sum <span class="token operator">+</span> d<span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">;</span>
        <span class="token keyword">int</span> closest <span class="token operator">=</span> <span class="token function">findClosest</span><span class="token punctuation">(</span>sorted<span class="token punctuation">,</span> nums2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> nd <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>closest <span class="token operator">-</span> nums2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>d <span class="token operator">></span> nd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            deduct <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>deduct<span class="token punctuation">,</span> d <span class="token operator">-</span> nd<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 遍历过程中使用了取模操作，可能会导致最终 sum &lt; deduct</span>
    <span class="token comment">// 因此结果要使用 (sum + mod - deduct) % mod 的形式</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>sum <span class="token operator">+</span> mod <span class="token operator">-</span> deduct<span class="token punctuation">)</span> <span class="token operator">%</span> mod<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">findClosest</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> hi <span class="token operator">=</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hi <span class="token operator">-</span> lo <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            hi <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            lo <span class="token operator">=</span> mid<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>target <span class="token operator">-</span> nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>nums<span class="token punctuation">[</span>lo <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> target<span class="token punctuation">)</span> <span class="token operator">?</span> nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span> <span class="token operator">:</span> nums<span class="token punctuation">[</span>lo <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> nums<span class="token punctuation">[</span>lo<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode-cn.com/problems/minimum-number-of-days-to-make-m-bouquets/"><span>1482. 制作 m 束花所需的最少天数</span></a></span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">假设「所需的最少天数」为 </span><span class="inline-wrap"><code>ans</code></span><span class="inline-wrap"> ，那么以 </span><span class="inline-wrap"><code>ans</code></span><span class="inline-wrap"> 为分割点的数轴具有「二段性」：</span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">天数范围落在 [0,ans) 无法制作完成</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">天数范围在 [ans,+∞) 可以制作完成</span></li></ul><div class="wolai-block wolai-text"><div><span class="inline-wrap">因此可以通过「二分」来找到分割点 </span><span class="inline-wrap"><code>ans</code></span><span class="inline-wrap">。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">我们需要一个</span><span class="inline-wrap"><code>canMake</code></span><span class="inline-wrap">函数用来判断给定的天数能否制作出符合要求的花束</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">如果可以,尝试更少的天数能否制作,如果不可以,尝试分配更多的天数</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">其实就是找出第一次的</span><span class="inline-wrap"><code>canMake</code></span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">minDays</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bloomDay<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>m <span class="token operator">*</span> k <span class="token operator">></span> bloomDay<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> hi <span class="token operator">=</span> <span class="token number">1000000000</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>hi <span class="token operator">-</span> lo<span class="token punctuation">)</span> <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">canMake</span><span class="token punctuation">(</span>bloomDay<span class="token punctuation">,</span> m<span class="token punctuation">,</span> k<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">)</span> hi <span class="token operator">=</span> mid<span class="token punctuation">;</span>
        <span class="token keyword">else</span> lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> lo<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">canMake</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bloomDay<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">,</span> <span class="token keyword">int</span> day<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> picked <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> bDay <span class="token operator">:</span> bloomDay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>bDay <span class="token operator">&lt;=</span> day<span class="token punctuation">)</span> picked<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> picked <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>picked <span class="token operator">==</span> k<span class="token punctuation">)</span><span class="token punctuation">{</span>
            m<span class="token operator">--</span><span class="token punctuation">;</span>
            picked <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> m <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode-cn.com/problems/capacity-to-ship-packages-within-d-days/"><span>1011. 在 D 天内送达包裹的能力</span></a></span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">原理同上</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">shipWithinDays</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weights<span class="token punctuation">,</span> <span class="token keyword">int</span> days<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> lo <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> hi <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> w <span class="token operator">:</span> weights<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lo <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>lo<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>
        hi <span class="token operator">+=</span> w<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>lo <span class="token operator">&lt;</span> hi<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> mid <span class="token operator">=</span> lo <span class="token operator">+</span> hi <span class="token operator">>></span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">canDeliver</span><span class="token punctuation">(</span>weights<span class="token punctuation">,</span> mid<span class="token punctuation">,</span> days<span class="token punctuation">)</span><span class="token punctuation">)</span> hi <span class="token operator">=</span> mid<span class="token punctuation">;</span>
        <span class="token keyword">else</span> lo <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> lo<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">canDeliver</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weights<span class="token punctuation">,</span> <span class="token keyword">int</span> capacity<span class="token punctuation">,</span> <span class="token keyword">int</span> days<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> needDays <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> curWeight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> weight <span class="token operator">:</span> weights<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>curWeight <span class="token operator">+</span> weight <span class="token operator">></span> capacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            needDays<span class="token operator">++</span><span class="token punctuation">;</span>
            curWeight <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        curWeight <span class="token operator">+=</span> weight<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> needDays <span class="token operator">&lt;=</span> days<span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><a href="https://leetcode-cn.com/problems/russian-doll-envelopes/"><span>354. 俄罗斯套娃信封问题</span></a></span></summary><div class="wolai-bookmark wolai-block"><a href="https://leetcode-cn.com/problems/russian-doll-envelopes/solution/zui-chang-shang-sheng-zi-xu-lie-bian-xin-6s8d/">力扣</a><div class="info-box"><div class="text-pane"><div data-title="力扣"></div><div class="icon-host"><div class="icon icon-image" style="background-image: url(&quot;https://leetcode-cn.com/favicon.ico&quot;)"></div><div data-hostname="leetcode-cn.com"></div></div></div><div class="preview-pane"></div></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span class="inline-wrap"><a href="https://leetcode-cn.com/problems/heaters/"><span>475. 供暖器</span></a></span></summary></details><details class="wolai-block"><summary><div class="marker placeholder"></div><span class="inline-wrap"><a href="https://leetcode-cn.com/problems/minimum-time-to-complete-trips/"><span>6010. 完成旅途的最少时间</span></a></span></summary></details><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><div class="wolai-block wolai-text"><div></div></div></article><footer></footer></body></html>