<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../../css/wolai.css"/><title>JDBC - wolai ç¬”è®°</title><link rel="shortcut icon"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="JDBC" class="main-title"></div></div></header><article><div class="wolai-block wolai-text"><div><span class="inline-wrap">JDBC<span class="jill"></span>æä¾›äº†ç»Ÿä¸€çš„<span class="jill"></span>API<span class="jill"></span>æ¥å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œã€‚</span></div></div><h2 class="wolai-block"><span class="inline-wrap">JDBC<span class="jill"></span>åŸºæœ¬ä½¿ç”¨</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">æ€ä¹ˆé€šè¿‡<span class="jill"></span>JDBC<span class="jill"></span>è·å–æ•°æ®åº“æ•°æ®ï¼Ÿå»ºç«‹æ•°æ®åº“è¿æ¥ï¼Œåˆ›å»º<span class="jill"></span>SQL<span class="jill"></span>è¯­å¥ï¼Œæ‰§è¡Œ<span class="jill"></span>SQL<span class="jill"></span>è¯­å¥ï¼Œè·å–æ‰§è¡Œç»“æœ</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">Connection</span></div></div><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">Typically, a JDBC application connects to a target data source using one of two classes:</span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è·å–æ•°æ®è¿æ¥ï¼Œä¸€ç§æ˜¯é€šè¿‡</span><span class="inline-wrap"><code>DriverManager</code></span><span class="inline-wrap">ï¼Œä¸€ç§æ˜¯é€šè¿‡</span><span class="inline-wrap"><code>DataSource</code></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>DriverManager</code></span><span class="inline-wrap">é¡¾åæ€ä¹‰ç®¡ç†ç€ä¸€ç»„æ•°æ®åº“é©±åŠ¨(</span><span class="inline-wrap"><code>Driver</code></span><span class="inline-wrap">)ï¼Œé€šè¿‡</span><span class="inline-wrap"><code>Driver</code></span><span class="inline-wrap">å¯ä»¥è·å–è¿æ¥ï¼Œè‡ªä»<span class="jill"></span>JDBC 4.0<span class="jill"></span>å¼€å§‹ï¼Œ</span><span class="inline-wrap"><code>Driver</code></span><span class="inline-wrap">çš„å®ç°ç±»åœ¨åŠ è½½æ—¶ï¼Œä¼šè‡ªåŠ¨æ³¨å†Œåˆ°</span><span class="inline-wrap"><code>DriverManager</code></span><span class="inline-wrap">ã€‚</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>DataSource</code></span><span class="inline-wrap">æ˜¯<span class="jill"></span>JDBC4.0 æ–°å¢çš„æ¥å£ï¼Œå®˜æ–¹æ›´æ¨èä½¿ç”¨è¿™ä¸ªã€‚</span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>DriverManager</code></span><span class="inline-wrap">: This fully implemented class connects an application to a data source, which is specified by a database URL. When this class first attempts to establish a connection, it automatically loads any JDBC 4.0 drivers found within the class path. Note that your application must manually load any JDBC drivers prior to version 4.0.</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>DataSource</code></span><span class="inline-wrap">: This interface is preferred over </span><span class="inline-wrap"><code>DriverManager</code></span><span class="inline-wrap"> because it allows details about the underlying data source to be transparent to your application. A </span><span class="inline-wrap"><code>DataSource</code></span><span class="inline-wrap"> object&#39;s properties are set so that it represents a particular data source. See </span><span class="inline-wrap"><a href="https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html"><span>Connecting with DataSource Objects</span></a></span><span class="inline-wrap"> for more information. For more information about developing applications with the </span><span class="inline-wrap"><code>DataSource</code></span><span class="inline-wrap"> class, see the latest </span><span class="inline-wrap"><a href="https://javaee.github.io/tutorial/toc.html"><span><i>The Java EE Tutorial</i></span></a></span><span class="inline-wrap">.</span><div class="wolai-block wolai-text"><div><span class="inline-wrap">DataSource<span class="jill"></span>æ˜¯å¦‚ä½•è·å–è¿æ¥çš„ï¼Ÿéƒ½æ˜¯ä»<span class="jill"></span>Driver<span class="jill"></span>é‡Œé¢è·å–è¿æ¥çš„</span></div></div></li></ul><div class="wolai-block wolai-text"><div><span class="inline-wrap">æ€»ç»“ï¼š</span><span class="inline-wrap"><code>DriverManager</code></span><span class="inline-wrap">ç®¡ç†</span><span class="inline-wrap"><code>Driver</code></span><span class="inline-wrap">ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡</span><span class="inline-wrap"><code>Driver</code></span><span class="inline-wrap">è·å–è¿æ¥ï¼Œä¹Ÿå¯ä»¥ä»</span><span class="inline-wrap"><code>DataSource</code></span><span class="inline-wrap">è·å–è¿æ¥ï¼Œ</span><span class="inline-wrap"><code>DataSource</code></span><span class="inline-wrap">å°±æ˜¯å¯¹</span><span class="inline-wrap"><code>Driver</code></span><span class="inline-wrap">çš„å°è£…ã€‚</span></div></div><div class="wolai-bookmark wolai-block"><a href="https://docs.oracle.com/javase/tutorial/jdbc/basics/sqldatasources.html">Connecting with DataSource Objects (The Javaâ„¢ Tutorials &gt;        
            JDBC Database Access &gt; JDBC Basics)
</a><div class="info-box"><div class="text-pane"><div data-title="Connecting with DataSource Objects (The Javaâ„¢ Tutorials &gt;        
            JDBC Database Access &gt; JDBC Basics)
"></div><div data-desc="This JDBC Java tutorial describes how to use JDBC API to create, insert into, update, and query tables. You will also learn how to use simple and prepared statements, stored procedures and perform tra"></div><div class="icon-host"><div class="icon icon-image" style="background-image: url(&quot;https://docs.oracle.com/favicon.ico&quot;)"></div><div data-hostname="docs.oracle.com"></div></div></div><div class="preview-pane"></div></div></div></details><div class="wolai-block wolai-text"><div><span class="inline-wrap">Statement</span></div></div><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">There are three different kinds of statements:</span></summary><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>Statement</code></span><span class="inline-wrap">: Used to implement simple SQL statements with no parameters.</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>PreparedStatement</code></span><span class="inline-wrap">: (Extends </span><span class="inline-wrap"><code>Statement</code></span><span class="inline-wrap">.) Used for precompiling SQL statements that might contain input parameters. See </span><span class="inline-wrap"><a href="https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html"><span>Using Prepared Statements</span></a></span><span class="inline-wrap"> for more information.</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>CallableStatement:</code></span><span class="inline-wrap"> (Extends </span><span class="inline-wrap"><code>PreparedStatement</code></span><span class="inline-wrap">.) Used to execute stored procedures that may contain both input and output parameters. See </span><span class="inline-wrap"><a href="https://docs.oracle.com/javase/tutorial/jdbc/basics/storedprocedures.html"><span>Stored Procedures</span></a></span><span class="inline-wrap"> for more information.</span></li></ul></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap">To execute a query, call an </span><span class="inline-wrap"><code>execute</code></span><span class="inline-wrap"> method from </span><span class="inline-wrap"><code>Statement</code></span><span class="inline-wrap"> such as the following:</span></summary><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>execute</code></span><span class="inline-wrap">: Returns </span><span class="inline-wrap"><code>true</code></span><span class="inline-wrap"> if the first object that the query returns is a </span><span class="inline-wrap"><code>ResultSet</code></span><span class="inline-wrap"> object. Use this method if the query could return one or more </span><span class="inline-wrap"><code>ResultSet</code></span><span class="inline-wrap"> objects. Retrieve the </span><span class="inline-wrap"><code>ResultSet</code></span><span class="inline-wrap"> objects returned from the query by repeatedly calling </span><span class="inline-wrap"><code>Statement.getResultSet</code></span><span class="inline-wrap">.</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>executeQuery</code></span><span class="inline-wrap">: Returns one </span><span class="inline-wrap"><code>ResultSet</code></span><span class="inline-wrap"> object.</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>executeUpdate</code></span><span class="inline-wrap">: Returns an integer representing the number of rows affected by the SQL statement. Use this method if you are using </span><span class="inline-wrap"><code>INSERT</code></span><span class="inline-wrap">, </span><span class="inline-wrap"><code>DELETE</code></span><span class="inline-wrap">, or </span><span class="inline-wrap"><code>UPDATE</code></span><span class="inline-wrap"> SQL statements.</span></li></ul></details><div class="wolai-block wolai-text"><div><span class="inline-wrap">ResultSet</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><b>å‚è€ƒæ–‡çŒ®</b></span></summary><div class="wolai-bookmark wolai-block"><a href="https://docs.oracle.com/javase/tutorial/jdbc/basics/index.html">Lesson: JDBC Basics (The Javaâ„¢ Tutorials &gt; JDBC Database Access)</a><div class="info-box"><div class="text-pane"><div data-title="Lesson: JDBC Basics (The Javaâ„¢ Tutorials &gt; JDBC Database Access)"></div><div data-desc="This JDBC Java tutorial describes how to use JDBC API to create, insert into, update, and query tables. You will also learn how to use simple and prepared statements, stored procedures and perform tra"></div><div class="icon-host"><div class="icon icon-image" style="background-image: url(&quot;https://docs.oracle.com/favicon.ico&quot;)"></div><div data-hostname="docs.oracle.com"></div></div></div><div class="preview-pane"></div></div></div><div class="wolai-bookmark wolai-block"><a href="https://docs.oracle.com/javase/tutorial/jdbc/basics/processingsqlstatements.html">Processing SQL Statements with JDBC (The Javaâ„¢ Tutorials &gt;        
            JDBC Database Access &gt; JDBC Basics)
</a><div class="info-box"><div class="text-pane"><div data-title="Processing SQL Statements with JDBC (The Javaâ„¢ Tutorials &gt;        
            JDBC Database Access &gt; JDBC Basics)
"></div><div data-desc="This JDBC Java tutorial describes how to use JDBC API to create, insert into, update, and query tables. You will also learn how to use simple and prepared statements, stored procedures and perform tra"></div><div class="icon-host"><div class="icon icon-image" style="background-image: url(&quot;https://docs.oracle.com/favicon.ico&quot;)"></div><div data-hostname="docs.oracle.com"></div></div></div><div class="preview-pane"></div></div></div><div class="wolai-bookmark wolai-block"><a href="https://docs.oracle.com/javase/tutorial/jdbc/basics/retrieving.html">Retrieving and Modifying Values from Result Sets (The Javaâ„¢ Tutorials &gt;        
            JDBC Database Access &gt; JDBC Basics)
</a><div class="info-box"><div class="text-pane"><div data-title="Retrieving and Modifying Values from Result Sets (The Javaâ„¢ Tutorials &gt;        
            JDBC Database Access &gt; JDBC Basics)
"></div><div data-desc="This JDBC Java tutorial describes how to use JDBC API to create, insert into, update, and query tables. You will also learn how to use simple and prepared statements, stored procedures and perform tra"></div><div class="icon-host"><div class="icon icon-image" style="background-image: url(&quot;https://docs.oracle.com/favicon.ico&quot;)"></div><div data-hostname="docs.oracle.com"></div></div></div><div class="preview-pane"></div></div></div></details><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><h2 class="wolai-block"><span class="inline-wrap">Hikari JDBC<span class="jill"></span>è¿æ¥æ± </span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><h2 class="wolai-block"><span class="inline-wrap">Spring<span class="jill"></span>æ•´åˆ<span class="jill"></span>JDBC</span></h2><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><b>Spring Framework</b></span></summary><div class="wolai-block wolai-text"><div><span class="inline-wrap">åˆ›å»º<span class="jill"></span>DataSrouce Beanï¼Œæ•´åˆäº†<span class="jill"></span>Spring<span class="jill"></span>çš„<span class="jill"></span>ORM<span class="jill"></span>æ¡†æ¶ä¼šä»å®¹å™¨ä¸­è·å–è¯¥<span class="jill"></span>DataSource Beanã€‚</span></div></div></details><details class="wolai-block"><summary><div class="marker"></div><span class="inline-wrap"><b>Spring Boot</b></span></summary><ol class="wolai-block"><li><div class="marker"></div><span class="inline-wrap">We prefer </span><span class="inline-wrap"><a href="https://github.com/brettwooldridge/HikariCP"><span>HikariCP</span></a></span><span class="inline-wrap"> for its performance and concurrency. If HikariCP is available, we always choose it.</span></li><li><div class="marker"></div><span class="inline-wrap">Otherwise, if the Tomcat pooling </span><span class="inline-wrap"><code>DataSource</code></span><span class="inline-wrap"> is available, we use it.</span></li><li><div class="marker"></div><span class="inline-wrap">Otherwise, if </span><span class="inline-wrap"><a href="https://commons.apache.org/proper/commons-dbcp/"><span>Commons DBCP2</span></a></span><span class="inline-wrap"> is available, we use it.</span></li><li><div class="marker"></div><span class="inline-wrap">If none of HikariCP, Tomcat, and DBCP2 are available and if Oracle UCP is available, we use it.</span></li></ol><aside class="bg-cultured wolai-block"><div data-symbol="ğŸ’¥" class="icon"></div><span class="inline-wrap">If you use the </span><span class="inline-wrap"><code>spring-boot-starter-jdbc</code></span><span class="inline-wrap"> or </span><span class="inline-wrap"><code>spring-boot-starter-data-jpa</code></span><span class="inline-wrap"> â€œstartersâ€, you automatically get a dependency to </span><span class="inline-wrap"><code>HikariCP</code></span><span class="inline-wrap">.</span></aside></details><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div></article><footer></footer></body></html>