<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../../../css/wolai.css"/><title>Resource与Environment - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="Resource与Environment" class="main-title"></div></div></header><article><h1 class="wolai-block"><span class="inline-wrap">1.Environment</span></h1><div class="wolai-block wolai-text"><div><span class="inline-wrap">Environment<span class="jill"></span>接口是<span class="jill"></span>profiles<span class="jill"></span>和<span class="jill"></span>properties<span class="jill"></span>的抽象.</span></div></div><h2 class="wolai-block"><span class="inline-wrap">1.1Profiles</span></h2><div class="wolai-block wolai-text"><div><span class="bg-uranian_blue inline-wrap">Bean definition peofiles<span class="jill"></span>提供了一种机制,可以让容器根据不同环境注册不同的<span class="jill"></span>Bean.</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">最常见的用法就有<span class="jill"></span>dataSource<span class="jill"></span>的配置,一般在研发时候和正式生产时候,dataSource<span class="jill"></span>是不同.</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">EmbeddedDatabaseBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token class-name">EmbeddedDatabaseType</span><span class="token punctuation">.</span>HSQL<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">addScript</span><span class="token punctuation">(</span><span class="token string">"my-schema.sql"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">addScript</span><span class="token punctuation">(</span><span class="token string">"my-test-data.sql"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">Context</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InitialContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">DataSource</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">lookup</span><span class="token punctuation">(</span><span class="token string">"java:comp/env/jdbc/datasource"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">现在的问题是如何在不同环境注册不同的<span class="jill"></span>Bean.</span></div></div><h3 class="wolai-block"><span class="inline-wrap">@Profile</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap">为了解决上述问题,我们需要使用<span class="jill"></span>@Profile<span class="jill"></span>注解.</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@Profile</span><span class="token punctuation">(</span><span class="token string">"development"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">EmbeddedDatabaseBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token class-name">EmbeddedDatabaseType</span><span class="token punctuation">.</span>HSQL<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">addScript</span><span class="token punctuation">(</span><span class="token string">"my-schema.sql"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">addScript</span><span class="token punctuation">(</span><span class="token string">"my-test-data.sql"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@Profile</span><span class="token punctuation">(</span><span class="token string">"production"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">Context</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InitialContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">DataSource</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">lookup</span><span class="token punctuation">(</span><span class="token string">"java:comp/env/jdbc/datasource"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// @Profile不仅可以修饰Bean,也可以修饰@Configuration类</span></pre></div></code-block><h3 class="wolai-block"><span class="inline-wrap">激活<span class="jill"></span>Profile</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap">现在我们已经配置好<span class="jill"></span>Profile<span class="jill"></span>了,那么启动的时候,我们就需要告诉<span class="jill"></span>Spring,需要使用哪个<span class="jill"></span>Profile.</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token comment">// 普通容器</span>
<span class="token class-name">AnnotationConfigApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">getEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setActiveProfiles</span><span class="token punctuation">(</span><span class="token string">"development"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token class-name">SomeConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">StandaloneDataConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">JndiDataConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
ctx<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token comment">// 测试环境</span>
<span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringJUnit4ClassRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>classes <span class="token operator">=</span> <span class="token class-name">DaoConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ActiveProfiles</span><span class="token punctuation">(</span><span class="token string">"dev"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoTest</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span></pre></div></code-block><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token comment">// web环境</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyWebInitializer</span> <span class="token keyword">extends</span>
  <span class="token class-name">AbstractAnnotationConfigDispatcherServletInitializer</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onStartup</span><span class="token punctuation">(</span><span class="token class-name">ServletContext</span> servletContext<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onStartup</span><span class="token punctuation">(</span>servletContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
    servletContext<span class="token punctuation">.</span><span class="token function">setInitParameter</span><span class="token punctuation">(</span><span class="token string">"spring.profiles.active"</span><span class="token punctuation">,</span> <span class="token string">"live"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></div></code-block><h3 class="wolai-block"><span class="inline-wrap">默认 Profile</span></h3><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@Profile</span><span class="token punctuation">(</span><span class="token string">"default"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DefaultDataConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">dataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">EmbeddedDatabaseBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">setType</span><span class="token punctuation">(</span><span class="token class-name">EmbeddedDatabaseType</span><span class="token punctuation">.</span>HSQL<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addScript</span><span class="token punctuation">(</span><span class="token string">"classpath:com/bank/config/sql/schema.sql"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></div></code-block><h2 class="wolai-block"><span class="inline-wrap">1.2Property</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">properties(属性)几乎在所有应用程序中都具有重要的作用。这些属性可能来自于：属性文件，JVM<span class="jill"></span>系统属性，系统环境变量，JNDI，Servlet<span class="jill"></span>上下文参数，Map<span class="jill"></span>对象等。 与属性相关的<span class="jill"></span>Environment<span class="jill"></span>对象的作用是为用户提供方便的服务接口，用于配置和解析属性源。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Environment</span> env <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">boolean</span> containsMyProperty <span class="token operator">=</span> env<span class="token punctuation">.</span><span class="token function">containsProperty</span><span class="token punctuation">(</span><span class="token string">"my-property"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Does my environment contain the 'my-property' property? "</span> <span class="token operator">+</span> containsMyProperty<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">上面的例子,我们问<span class="jill"></span>Spring<span class="jill"></span>我们是否定义了<span class="jill"></span>my-property<span class="jill"></span>属性.为了回答这个问题,Spring<span class="jill"></span>会去搜索一系列的<span class="jill"></span>PropertySource<span class="jill"></span>对象.PropertySource<span class="jill"></span>对象就是键值对属性源的简单抽象.Spring<span class="jill"></span>的</span><span class="inline-wrap"><code>StandardEnvironment</code></span><span class="inline-wrap">配置了两个<span class="jill"></span>PropertySource<span class="jill"></span>对象,一个是<span class="jill"></span>JVM<span class="jill"></span>系统属性,一个是系统环境变量.</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">最重要的是，整个机制是可配置的。 您可能希望将自定义的属性源集成到此搜索中。 为此，请实现并实例化您自己的<span class="jill"></span>PropertySource，并将其添加到当前<span class="jill"></span>Environment<span class="jill"></span>的<span class="jill"></span>PropertySource<span class="jill"></span>集合中。 以下示例显示了如何执行此操作：</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token class-name">ConfigurableApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GenericApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">MutablePropertySources</span> sources <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPropertySources</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sources<span class="token punctuation">.</span><span class="token function">addFirst</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyPropertySource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block><h3 class="wolai-block"><span class="inline-wrap">@PropertySource</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap">@PropertySource<span class="jill"></span>提供了简洁明了的机制添加<span class="jill"></span>PropertySource.</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">"classpath:/com/myco/app.properties"</span><span class="token punctuation">)</span>
<span class="token comment">// 写得多往往会分不清到底用/还是用.  路径的分割当然就是用/啦</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">Environment</span> env<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">TestBean</span> <span class="token function">testBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TestBean</span> testBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        testBean<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>env<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"testbean.name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> testBean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">@PropertySource<span class="jill"></span>资源位置中存在的任何<span class="jill"></span>$ {...}<span class="jill"></span>占位符将根据已针对环境注册的属性源集合进行解析，如以下示例所示：</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">"classpath:/com/${my.placeholder:default/path}/app.properties"</span><span class="token punctuation">)</span>
<span class="token comment">// 为什么使用 ${}作为表达式? 因为Linux就是如此.</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">Environment</span> env<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">TestBean</span> <span class="token function">testBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">TestBean</span> testBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TestBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        testBean<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>env<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"testbean.name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> testBean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre></div></code-block><h1 class="wolai-block"><span class="inline-wrap">2.Resources</span></h1><div class="wolai-block wolai-text"><div><span class="inline-wrap">Resource<span class="jill"></span>相关的代码存放在<span class="jill"></span>org.springframework.core.io<span class="jill"></span>目录下，顾名思义就是跟<span class="jill"></span>IO<span class="jill"></span>有关的。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">Resource<span class="jill"></span>接口</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">Spring<span class="jill"></span>的<span class="jill"></span>Resource<span class="jill"></span>接口旨在成为一个功能更强的接口，用于抽象对低级资源的访问。 以下清单显示了<span class="jill"></span>Resource<span class="jill"></span>接口定义：</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Resource</span> <span class="token keyword">extends</span> <span class="token class-name">InputStreamSource</span> <span class="token punctuation">{</span>
    <span class="token keyword">boolean</span> <span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 判断资源是否真实存在</span>
    <span class="token keyword">boolean</span> <span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 判断资源是否已被打开</span>
    <span class="token class-name">String</span> <span class="token function">getDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回资源的描述.</span>
    <span class="token class-name">URL</span> <span class="token function">getURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
    <span class="token class-name">File</span> <span class="token function">getFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">getFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Resource</span> <span class="token function">createRelative</span><span class="token punctuation">(</span><span class="token class-name">String</span> relativePath<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">我们可以看到<span class="jill"></span>Resource<span class="jill"></span>接口继承了<span class="jill"></span>InputStreamSource<span class="jill"></span>类</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">InputStreamSource</span> <span class="token punctuation">{</span>
    <span class="token class-name">InputStream</span> <span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
   <span class="token comment">// 找到并打开资源，返回InputStream。 希望每次调用都会返回一个新的InputStream。 呼叫者有责任关闭流。</span>
<span class="token punctuation">}</span></pre></div></code-block><h2 class="wolai-block"><span class="inline-wrap">获取<span class="jill"></span>Resource</span></h2><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">通过<span class="jill"></span>ApplicationContext<span class="jill"></span>获取资源</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">通过<span class="jill"></span>Resource<span class="jill"></span>接口实现类获取资源</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">通过<span class="jill"></span>ResourceLoader<span class="jill"></span>接口获取资源</span></li></ul><h3 class="wolai-block"><span class="inline-wrap">ApplicationContext<span class="jill"></span>获取资源</span></h3><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">ApplicationContext</span> ctx<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">SqlSessionFactoryBean</span> <span class="token function">sqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
   <span class="token class-name">SqlSessionFactoryBean</span> fb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   fb<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span><span class="token function">devDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   fb<span class="token punctuation">.</span><span class="token function">setConfigLocation</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ClassPathResource</span><span class="token punctuation">(</span><span class="token string">"mybatis.xml"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token comment">// 获取resource</span>
   <span class="token class-name">Resource</span><span class="token punctuation">[</span><span class="token punctuation">]</span> resources <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token string">"classpath:mapper/*Dao.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   fb<span class="token punctuation">.</span><span class="token function">setMapperLocations</span><span class="token punctuation">(</span>resources<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">return</span> fb<span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><h3 class="wolai-block"><span class="inline-wrap">Resouce 接口实现类</span></h3><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">UrlResouce</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">ClassPathResource</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">FileSystemResource</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">ServletContextResource</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">InputStreamResource</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">ByteArrayResource</span></li></ul><h3 class="wolai-block"><span class="inline-wrap">ResourceLoader 资源加载器</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap">Spring<span class="jill"></span>框架为了更方便的获取资源，尽量弱化程序员对各个<span class="jill"></span>Resource<span class="jill"></span>接口的实现类的感知，定义了另一个<span class="jill"></span>ResourceLoader<span class="jill"></span>接口。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ResourceLoader</span> <span class="token punctuation">{</span>
    <span class="token class-name">Resource</span> <span class="token function">getResource</span><span class="token punctuation">(</span><span class="token class-name">String</span> location<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">该接口的<span class="jill"></span>getResource(String location)方法可以用来获取资源。它的<span class="jill"></span>DefaultResourceLoader<span class="jill"></span>实现类可以适用于所有的环境，可以返回<span class="jill"></span>ClassPathResource、UrlResource<span class="jill"></span>等。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">ResourceLoader<span class="jill"></span>在进行加载资源时需要使用前缀来指定需要加载：</span></div></div><ul class="wolai-block"><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>classpath:</code></span><span class="inline-wrap">表示返回<span class="jill"></span>ClasspathResource</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><code>http:</code></span><span class="inline-wrap">和</span><span class="inline-wrap"><code>file:</code></span><span class="inline-wrap">表示返回<span class="jill"></span>UrlResource<span class="jill"></span>资源</span></li><li><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">如果不加前缀则需要根据当前上下文来决定，</span></li></ul><div class="wolai-block wolai-text"><div><span class="inline-wrap">所有的<span class="jill"></span>ApplicationContext<span class="jill"></span>都实现了<span class="jill"></span>ResourceLoader,因此可以从中获取资源实例.</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">如果调用<span class="jill"></span>ApplicationContext<span class="jill"></span>的<span class="jill"></span>getResource()方法指定的位置路径没有特定前缀时，将返回适合该特定应用程序上下文的<span class="jill"></span>Resource<span class="jill"></span>类型。例如，假设针对<span class="jill"></span>ClassPathXmlApplicationContext<span class="jill"></span>实例执行了以下代码片段：</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token class-name">Resource</span> template <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span><span class="token string">"some/resource/path/myTemplate.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 对于ClassPathXmlApplicationContext，该代码返回ClassPathResource。 </span>
<span class="token comment">// 对于FileSystemXmlApplicationContext实例执行相同的方法，它将返回FileSystemResource。 </span>
<span class="token comment">// 对于WebApplicationContext，它将返回ServletContextResource。</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>ResourceLoaderAware</b></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">XXXAware<span class="jill"></span>接口意味着这个接口的实现类可以感知、获取到<span class="jill"></span>XXX，换言之也就是它能提供<span class="jill"></span>XXX。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">由上述可知<span class="jill"></span>ResourceLoaderAware<span class="jill"></span>接口的实现类就是用来提供<span class="jill"></span>ResourceLoader<span class="jill"></span>的。</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ResourceLoaderAware</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">setResourceLoader</span><span class="token punctuation">(</span><span class="token class-name">ResourceLoader</span> resourceLoader<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">当一个类实现了</span><span class="inline-wrap"><code>ResourceLoaderAware</code></span><span class="inline-wrap">并注册到容器中，它被容器识别为</span><span class="inline-wrap"><code>ResourceLoaderAware</code></span><span class="inline-wrap">。容器会将其自身作为参数调用它的</span><span class="inline-wrap"><code>setResourceLoader（ResourceLoader）</code></span><span class="inline-wrap">方法，（Spring<span class="jill"></span>中的所有应用程序上下文都实现了<span class="jill"></span>ResourceLoader<span class="jill"></span>接口）。</span></div></div><h2 class="wolai-block"><span class="inline-wrap">应用上下文与资源路径</span></h2><div class="wolai-block wolai-text"><div><span class="inline-wrap">本节介绍如何使用资源创建应用程序上下文，包括使用<span class="jill"></span>XML<span class="jill"></span>的快捷方式，如何使用通配符以及其他详细信息。</span></div></div><h3 class="wolai-block"><span class="inline-wrap">构造应用上下文</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap">应用程序上下文构造函数（对于特定的应用程序上下文类型）通常将字符串或字符串数组作为资源的位置路径，例如构成上下文定义的<span class="jill"></span>XML<span class="jill"></span>文件。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">当这样的位置路径没有前缀时，从该路径构建并用于加载<span class="jill"></span>bean<span class="jill"></span>定义的特定资源类型取决于并且适合于特定的应用程序上下文。 例如，请考虑以下示例，该示例创建<span class="jill"></span>ClassPathXmlApplicationContext：</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"conf/appContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileSystemXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"conf/appContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> 
    <span class="token keyword">new</span> <span class="token class-name">FileSystemXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"classpath:conf/appContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block><h3 class="wolai-block"><span class="inline-wrap">使用通配符</span></h3><div class="wolai-block wolai-text"><div><span class="inline-wrap">构造容器时传入的资源路径可以是简单路径，也就是每个路径都与目标资源进行一对一映射（如上所示），也可以包含特殊的</span><span class="inline-wrap"><code>classpath *：</code></span><span class="inline-wrap">前缀或使用<span class="jill"></span>Ant-style<span class="jill"></span>的正则表达式。</span></div></div><h4 class="wolai-block"><span class="inline-wrap">Ant-style Patterns</span></h4><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre><span class="token operator">/</span><span class="token constant">WEB</span><span class="token operator">-</span><span class="token constant">INF</span><span class="token comment">/*-context.xml
com/mycompany/**/</span>applicationContext<span class="token punctuation">.</span><span class="token property-access">xml</span>
file<span class="token operator">:</span><span class="token constant">C</span><span class="token operator">:</span><span class="token operator">/</span>some<span class="token operator">/</span>path<span class="token comment">/*-context.xml
classpath:com/mycompany/**/</span>applicationContext<span class="token punctuation">.</span><span class="token property-access">xml</span></pre></div></code-block><h4 class="wolai-block"><span class="inline-wrap">classpath*: 前缀</span></h4><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"classpath*:conf/appContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">您还可以将</span><span class="inline-wrap"><code>classpath *：</code></span><span class="inline-wrap">与<span class="jill"></span>Ant-style Patterns<span class="jill"></span>组合使用（例如，classpath *：META-INF / * - beans.xml）。</span></div></div><h4 class="wolai-block"><span class="inline-wrap">classpath:与<span class="jill"></span>classpath*:</span></h4><div class="wolai-block wolai-text"><div><span class="inline-wrap">classpath:与<span class="jill"></span>classpath*:的区别在于，前者只会从第一个<span class="jill"></span>classpath<span class="jill"></span>中加载，而后者会从所有的<span class="jill"></span>classpath<span class="jill"></span>中加载</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">如果要加载的资源，不在当前<span class="jill"></span>ClassLoader<span class="jill"></span>的路径里，那么用<span class="jill"></span>classpath:前缀是找不到的，这种情况下就需要使用<span class="jill"></span>classpath*:前缀</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">另一种情况下，在多个<span class="jill"></span>classpath<span class="jill"></span>中存在同名资源，都需要加载，那么用<span class="jill"></span>classpath:只会加载第一个，这种情况下也需要用<span class="jill"></span>classpath*:前缀</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">可想而知，用<span class="jill"></span>classpath*:需要遍历所有的<span class="jill"></span>classpath，所以加载速度是很慢的，因此，在规划的时候，应该尽可能规划好资源文件所在的路径，尽量避免使用<span class="jill"></span>classpath*</span></div></div><h4 class="wolai-block"><span class="inline-wrap">其他关于通配符的注意事项</span></h4><div class="wolai-block wolai-text"><div><span class="inline-wrap">请注意，</span><span class="inline-wrap"><code>classpath*：</code></span><span class="inline-wrap">与<span class="jill"></span>Ant<span class="jill"></span>样式模式结合使用时，只能在模式启动前与至少一个根目录一起可靠地工作，除非实际目标文件驻留在文件系统中。 这意味着类路径</span><span class="inline-wrap"><code>*：*</code></span><span class="inline-wrap"> xml<span class="jill"></span>等模式可能无法从<span class="jill"></span>jar<span class="jill"></span>文件的根目录中检索文件，而只能从扩展目录的根目录中检索文件。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">Spring<span class="jill"></span>检索类路径条目的能力来自<span class="jill"></span>JDK<span class="jill"></span>的<span class="jill"></span>ClassLoader.getResources（）方法，该方法仅返回空字符串的文件系统位置（指示搜索的潜在根）。 Spring<span class="jill"></span>也会评估<span class="jill"></span>URLClassLoader<span class="jill"></span>运行时配置和<span class="jill"></span>jar<span class="jill"></span>文件中的<span class="jill"></span>java.class.path<span class="jill"></span>清单，但这不能保证导致可移植行为。</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">如果要搜索的根包在多个类路径位置中可用，则不保证具有类路径的<span class="jill"></span>Ant<span class="jill"></span>样式模式：资源可以找到匹配的资源。 请考虑以下资源位置示例：</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>com<span class="token operator">/</span>mycompany<span class="token operator">/</span>package1<span class="token operator">/</span>service<span class="token operator">-</span>context<span class="token punctuation">.</span><span class="token property-access">xml</span></pre></div></code-block><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="纯文本" class="marker"></div><pre>classpath<span class="token operator">:</span>com<span class="token operator">/</span>mycompany<span class="token comment">/**/</span>service<span class="token operator">-</span>context<span class="token punctuation">.</span><span class="token property-access">xml</span></pre></div></code-block><div class="wolai-block wolai-text"><div><span class="inline-wrap">这样的资源可能只在一个位置，但是当使用前面例子之类的路径来尝试解析它时，解析器会处理<span class="jill"></span>getResource（“com / mycompany”）;返回的（第一个）URL。 如果此基本包节点存在于多个类加载器位置中，则实际的最终资源可能不存在。 因此，在这种情况下，您应该更喜欢使用</span><span class="inline-wrap"><code>classpath*：</code></span><span class="inline-wrap">使用相同的<span class="jill"></span>Ant<span class="jill"></span>样式模式，该模式搜索包含根包的所有类路径位置。</span></div></div><hr class="wolai-block"/><div class="wolai-block wolai-text"><div><span class="inline-wrap"><b>ResourcePatternResolver</b></span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="Java" class="marker"></div><pre><span class="token class-name">ResourcePatternResolver</span> resolver <span class="token operator">=</span> <span class="token class-name">ResourcePatternUtils</span><span class="token punctuation">.</span><span class="token function">getResourcePatternResolver</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
   <span class="token class-name">Resource</span><span class="token punctuation">[</span><span class="token punctuation">]</span> resources <span class="token operator">=</span> resolver<span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token string">"classpath:/**/**DAO.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre></div></code-block></article><footer></footer></body></html>